{
  "meta": {
    "project": "人格特质投资策略评估系统",
    "date": "2025-11-14",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "基于Big Five人格模型的智能投资策略推荐系统，旨在通过科学测评帮助用户了解人格特质和投资相关能力，提供个性化投资建议和AI深度分析。",
  "core_goals": [
    "支持邮箱+密码注册与登录，保证账户安全性和易用性。",
    "提供管理员管理功能，包括设置管理员邮箱和黑名单限制登录。",
    "实现多项心理与能力测评，包括风险偏好、交易特征和数学金融能力等。",
    "提供智能投资策略匹配和个性化投资建议。",
    "集成支付功能和礼品码系统，支持付费和促销活动。",
    "保障系统安全和稳定，支持高效的后台管理和数据统计。"
  ],
  "key_features": [
    "邮箱+密码注册与登录，支持一次性生成密码，注册成功后自动复制账号密码并提示保存。",
    "管理员功能：支持后台设置管理员邮箱及黑名单邮箱，限制未授权用户登录。",
    "多维度投资相关心理和能力测评模块，包括Big Five人格特质、交易特征、风险偏好和数学金融能力测试。",
    "智能投资策略推荐，基于欧几里得距离算法，提供个性化投资建议和基础报告。",
    "DeepSeek AI深度心理分析，作为付费增值服务或礼品码兑换功能。",
    "支付及订单管理系统，含递减价格策略和支付成功页面控制开关。",
    "礼品码系统支持多次使用和有效期管理，协助促销和用户激励。",
    "现代化前端技术栈（React+TypeScript+Vite+TailwindCSS等），配合Supabase后端服务保障整体性能与安全。"
  ],
  "user_flow_summary": [
    "用户访问登录页，可选择注册或登录模式。",
    "注册时输入邮箱，系统生成一次性密码并完成注册，随后提示保存并复制账号密码。",
    "登录时输入邮箱和密码进行验证，成功后进入首页和测评功能。",
    "已登录用户可访问多项测评页面，完成测试后获得投资策略匹配和建议。",
    "管理员登录后可进入系统设置页，输入邮箱添加管理员或拉黑邮箱以限制登录。",
    "用户可通过订单系统完成支付，支付成功后获得AI深度分析服务或其他付费内容。",
    "礼品码兑换流程支持用户激活优惠，影响订单支付和服务开通。"
  ],
  "validation_criteria": [
    "注册与登录功能通过邮箱和密码验证，注册成功后自动复制账号密码且提示用户。",
    "管理员设置和黑名单功能仅对管理员开放权限，且邮箱统一小写存储。",
    "多项测评及小游戏准确记录用户答题数据并生成对应测试结果。",
    "订单及支付流程能正确处理支付状态，支付成功页面显示符合配置开关。",
    "礼品码系统支持多次使用、有效期控制且能实时统计兑换情况。",
    "系统对环境变量的依赖正确配置且能安全调用Supabase和其他服务接口。",
    "前端UI响应快速且符合设计规范，React Context正确管理状态。"
  ],
  "code_summary": {
    "app_name": "miaoda-react-admin",
    "project_root": "D:\\Trae\\rengeceshi\\app-7gjbw3zqrmdd_app_version-7kpudg6kv6rk\\app-7gjbw3zqrmdd",
    "runtime": {
      "type": "spa",
      "dev_server": {
        "tool": "vite",
        "default_port": 5173,
        "preview_port": 4173
      },
      "prod_server": {
        "tool": "nginx",
        "root": "/usr/share/nginx/html",
        "fallback": "/index.html"
      }
    },
    "tech_stack": {
      "language": "typescript",
      "framework": "react",
      "router": "react-router-dom@7",
      "build_tool": "vite@5",
      "ui": [
        "tailwindcss@3",
        "radix-ui",
        "lucide-react"
      ],
      "state": [
        "React Context"
      ],
      "api": [
        "@supabase/supabase-js",
        "axios"
      ],
      "lint_tools": [
        "biome",
        "ast-grep",
        "tsgo"
      ]
    },
    "env": {
      "required": [
        "VITE_SUPABASE_URL",
        "VITE_SUPABASE_ANON_KEY"
      ],
      "supabase_client": "src/db/supabase.ts"
    },
    "key_paths": {
      "entry": "src/main.tsx",
      "app": "src/App.tsx",
      "routes": "src/routes.tsx",
      "auth_context": "src/contexts/AuthContext.tsx",
      "login_page": "src/pages/LoginPage.tsx",
      "admin_settings": "src/pages/admin/SystemSettingsPage.tsx"
    },
    "features": [
      "邮箱+密码注册与登录（Supabase Edge Functions）",
      "注册成功复制账号与密码到剪贴板并提示",
      "管理员邮箱管理（支持未注册邮箱预授予）",
      "拉黑邮箱并限制登录",
      "支付成功页面与开关",
      "多项测评与小游戏页面（风险偏好、交易特征等）"
    ]
  }
}
